<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Xinze Wu">
<meta name="dcterms.date" content="2024-11-26">

<title>Analysis of Shootings and Firearm Discharges in Toronto</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="paper_files/libs/clipboard/clipboard.min.js"></script>
<script src="paper_files/libs/quarto-html/quarto.js"></script>
<script src="paper_files/libs/quarto-html/popper.min.js"></script>
<script src="paper_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="paper_files/libs/quarto-html/anchor.min.js"></script>
<link href="paper_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="paper_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="paper_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="paper_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="paper_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Analysis of Shootings and Firearm Discharges in Toronto</h1>
<p class="subtitle lead">A Comprehensive Examination Reveals Significant Time and Locational Impacts on Incident Severity</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Xinze Wu <a href="mailto:kerwin.wu@mail.utoronto.ca" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Toronto
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 26, 2024</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    <p>This paper analyzes the impact of time and location on the severity of shootings and firearm discharges in Toronto, utilizing a Gradient Boosting Machine model. The findings highlight significant variations across different times and locations, emphasizing the need for targeted policy interventions. This study not only aids in understanding the dynamics of urban violence but also assists in resource allocation for law enforcement and public safety initiatives.The narrative structure of this analysis follows the guidelines provided in “Telling Stories with Data” <span class="citation" data-cites="tellingstories">(<a href="#ref-tellingstories" role="doc-biblioref">Alexander 2023</a>)</span>.</p>
  </div>
</div>


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>The safety and security of urban areas are of paramount importance to their residents and governance structures. In Toronto, the occurrence of shootings and firearm discharges poses significant challenges to public safety. Understanding the patterns and determinants of these violent events is crucial for developing effective interventions and policies. This paper employs a Gradient Boosting Machine model to analyze how time-related factors and geographic locations influence the severity of shooting incidents in Toronto.</p>
<section id="estimand" class="level2">
<h2 class="anchored" data-anchor-id="estimand">Estimand</h2>
<p>This study aims to estimate the effect of time (day of week, hour, and time range) and location (neighbourhood and police division) on the severity of shootings and firearm discharges in Toronto, measured by a weighted score combining deaths and injuries.</p>
</section>
<section id="importance-of-the-study" class="level2">
<h2 class="anchored" data-anchor-id="importance-of-the-study">Importance of the Study</h2>
<p>The results of this study are crucial for informing public safety strategies and police resource allocation in Toronto, aiming to reduce the incidence and severity of violent firearm-related incidents.</p>
</section>
</section>
<section id="sec-data" class="level1">
<h1>Data</h1>
<p>Data for this study is sourced from Open Data Toronto<span class="citation" data-cites="OpenDataToronto">(<a href="#ref-OpenDataToronto" role="doc-biblioref">Toronto 2024</a>)</span>: <a href="https://open.toronto.ca/dataset/shootings-firearm-discharges/" class="uri">https://open.toronto.ca/dataset/shootings-firearm-discharges/</a>, detailing all recorded shootings and firearm discharges within the city limits from 2004 to 2024.</p>
<section id="data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning">Data Cleaning</h2>
<p>Data cleaning was performed using R<span class="citation" data-cites="citeR">(<a href="#ref-citeR" role="doc-biblioref">R Core Team 2023</a>)</span> packages such as <code>tidyverse</code><span class="citation" data-cites="tidyverse">(<a href="#ref-tidyverse" role="doc-biblioref">Wickham et al. 2019</a>)</span> and <code>lubridate</code>. The <code>occ_date</code> variable was converted to a numeric format to fit the model requirements, and categorical variables were transformed using appropriate factor conversions.</p>
</section>
<section id="variables" class="level2">
<h2 class="anchored" data-anchor-id="variables">Variables</h2>
<section id="outcome-variable" class="level3">
<h3 class="anchored" data-anchor-id="outcome-variable">Outcome Variable</h3>
<ul>
<li><code>Weighted Score</code>: Combines the number of deaths and injuries, weighting deaths twice as heavily(weighted_score = death * 2 + injuries).</li>
</ul>
</section>
<section id="predictor-variables" class="level3">
<h3 class="anchored" data-anchor-id="predictor-variables">Predictor Variables</h3>
<ul>
<li><p><strong>Time Factors</strong>:</p></li>
<li><p><code>occ_date</code>(date): Date of Offence Occurred</p></li>
<li><p><code>occ_dow</code> (day of the week): Day of the Month Offence Occurred</p></li>
<li><p><code>occ_time_range</code> (morning, afternoon, evening):Time Range of Day Offence Occurred</p></li>
<li><p><strong>Location Factors</strong>:</p></li>
<li><p><code>neighbourhood_158:</code>Name of Neighborhood using City of Toronto’s new 158 neighborhood structure</p></li>
<li><p><code>division</code>: Police division where offence occurred</p></li>
</ul>
</section>
</section>
<section id="data-visualization" class="level2">
<h2 class="anchored" data-anchor-id="data-visualization">Data visualization</h2>
<section id="weighted-score-over-time" class="level3">
<h3 class="anchored" data-anchor-id="weighted-score-over-time">Weighted Score Over Time</h3>
<div class="cell" data-fig_caption="true">
<div class="cell-output-display">
<div id="fig-date" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-date-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="paper_files/figure-html/fig-date-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-date-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: line graph shows the relationship between weighted score over date
</figcaption>
</figure>
</div>
</div>
</div>
<p>This plot <a href="#fig-date" class="quarto-xref">Figure&nbsp;1</a> illustrates the variation in the weighted scores of shootings and firearm discharges in Toronto from 2004 to 2025. The weighted score, which combines the number of deaths and injuries with deaths being given a higher weight, is plotted against the date of incidents. Notably, the plot reveals several significant spikes, indicating periods with higher shooting severity. These peaks might correlate with specific events or changes in local circumstances, warranting further investigation. The majority of the time, however, the weighted scores remain relatively low, suggesting sporadic rather than consistent patterns of high-severity incidents. This visualization highlights the dynamic nature of crime severity over time and underscores the importance of continuous monitoring and analysis to understand the underlying trends and triggers.</p>
</section>
<section id="weighted-score-by-day-of-week" class="level3">
<h3 class="anchored" data-anchor-id="weighted-score-by-day-of-week">Weighted Score by Day of week</h3>
<div class="cell" data-fig_caption="true">
<div class="cell-output-display">
<div id="fig-dow" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="paper_files/figure-html/fig-dow-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Bar chart of the weighted score by the day of week
</figcaption>
</figure>
</div>
</div>
</div>
<p>The bar chart <a href="#fig-dow" class="quarto-xref">Figure&nbsp;2</a> illustrates the weighted scores of shootings and firearm discharges in Toronto, broken down by day of the week. Notably, the weekend days (Saturday and Sunday) along with Monday, show elevated scores, suggesting a higher incidence of severe incidents during these days. This trend could be attributed to increased social activities and gatherings during the weekend, potentially leading to more conflicts or accidents. Conversely, the mid-week days (Tuesday and Wednesday) exhibit notably lower scores, indicating fewer severe incidents.</p>
</section>
<section id="weighted-score-by-day-of-year" class="level3">
<h3 class="anchored" data-anchor-id="weighted-score-by-day-of-year">Weighted Score by Day of Year</h3>
<div class="cell" data-fig_caption="true">
<div class="cell-output-display">
<div id="fig-doy" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-doy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="paper_files/figure-html/fig-doy-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-doy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: line graph of the weighted score by the day of year
</figcaption>
</figure>
</div>
</div>
</div>
<p>The line graph <a href="#fig-doy" class="quarto-xref">Figure&nbsp;3</a> visualizes the trend of shootings and firearm discharges in Toronto across different days of the year. The plot shows a clear seasonal pattern, with peaks generally occurring around mid-year and towards the end, particularly noticeable in the increase during summer and winter months. This could correlate with seasonal activities and social behaviors such as holidays and outdoor gatherings that might contribute to increased incidents. The valleys observed during early spring and late fall might reflect quieter periods with fewer such gatherings.</p>
</section>
<section id="weighted-score-by-hour-of-day" class="level3">
<h3 class="anchored" data-anchor-id="weighted-score-by-hour-of-day">Weighted Score by Hour of Day</h3>
<div class="cell" data-fig_caption="true">
<div class="cell-output-display">
<div id="fig-hour" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hour-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="paper_files/figure-html/fig-hour-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hour-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Bar chart shows the weighted score by the hour of day
</figcaption>
</figure>
</div>
</div>
</div>
<p>The bar graph <a href="#fig-hour" class="quarto-xref">Figure&nbsp;4</a> presents the distribution of shootings and firearm discharges in Toronto by hour. This visualization demonstrates a notable peak in incidents during the very early hours of the day, specifically around midnight, with a dramatic decline shortly after. A secondary, but less intense, peak occurs in the evening hours, spanning from 8 PM to midnight.</p>
<p>This pattern suggests that incidents tend to happen more frequently during late-night hours, possibly linked to social and recreational activities during these times, or reduced visibility and police presence making these hours more conducive to criminal behavior. Conversely, the hours from early morning to mid-afternoon show markedly lower incidents, reflecting perhaps quieter public activity and higher visibility and vigilance during daylight hours.</p>
</section>
<section id="weighted-score-by-time-range" class="level3">
<h3 class="anchored" data-anchor-id="weighted-score-by-time-range">Weighted Score by Time Range</h3>
<div class="cell" data-fig_caption="true">
<div class="cell-output-display">
<div id="fig-range" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-range-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="paper_files/figure-html/fig-range-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-range-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Bar chart shows the weighted score by the time range
</figcaption>
</figure>
</div>
</div>
</div>
<p>This bar graph <a href="#fig-range" class="quarto-xref">Figure&nbsp;5</a> illustrates the severity of shootings and firearm discharges in Toronto across different time range of the day. The time ranges are categorized into morning, afternoon, evening, and night.</p>
<p>The graph reveals a stark increase in incident severity during the night, which towers over the scores recorded for other times of the day. This is followed by the evening, which also shows a considerably high level of incident severity. The overall trend of this graph is highly corresponding to the bar chart of weighted score over hour of the day, basically, this graph provides a more straightforward relationship between the weight score over different periods in a day.</p>
</section>
<section id="weighted-score-by-neighborhood" class="level3">
<h3 class="anchored" data-anchor-id="weighted-score-by-neighborhood">Weighted Score by Neighborhood</h3>
<div class="cell" data-fig_caption="true">
<div class="cell-output-display">
<div id="fig-neighborhood" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-neighborhood-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="paper_files/figure-html/fig-neighborhood-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-neighborhood-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Bar chart shows the weighted score by the neighborhood
</figcaption>
</figure>
</div>
</div>
</div>
<p>The bar chart <a href="#fig-neighborhood" class="quarto-xref">Figure&nbsp;6</a> displays the severity of shootings and firearm discharges across various neighborhoods in Toronto, segmented by the neighbourhood_158 identifiers. Each bar represents a different neighbourhood, color-coded for visual differentiation and labeled with both the neighbourhood name and a unique identifier number.</p>
<p>This visualization highlights the disparity in incident severity across the city, with some neighbourhoods experiencing significantly higher weighted scores than others. Notably, certain areas show peaks which suggest hotspots of violent incidents. Such patterns are crucial for identifying regions that may require more focused law enforcement and public health interventions to mitigate the impact of firearm-related violence.</p>
</section>
<section id="weighted-score-by-division" class="level3">
<h3 class="anchored" data-anchor-id="weighted-score-by-division">Weighted Score by Division</h3>
<div class="cell" data-fig_caption="true">
<div class="cell-output-display">
<div id="fig-division" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-division-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="paper_files/figure-html/fig-division-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-division-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Bar chart shows the weighted score by division
</figcaption>
</figure>
</div>
</div>
</div>
<p>This bar chart <a href="#fig-division" class="quarto-xref">Figure&nbsp;7</a> illustrates the variation in the severity of shootings and firearm discharges across different police divisions in Toronto. Each division is represented by a unique color and labeled with its respective code (D11 through D55), which simplifies identification and comparison across the chart.</p>
<p>The visualization provides a clear depiction of how incident severity is distributed across the police divisions, with some divisions showing considerably higher weighted scores than others.</p>
</section>
</section>
</section>
<section id="sec-model-details" class="level1">
<h1>Model Details</h1>
<section id="model-description" class="level2">
<h2 class="anchored" data-anchor-id="model-description">Model Description</h2>
<p>The analysis employed a Gradient Boosting Machine (GBM) model<span class="citation" data-cites="gbm">(<a href="#ref-gbm" role="doc-biblioref">others 2020</a>)</span> using the <code>gbm</code> package in R, designed to predict the weighted scores of shootings and firearm discharges in Toronto based on multiple time-related and geographical predictors and using the <code>caret</code> package for advanced modeling techniques <span class="citation" data-cites="caret">(<a href="#ref-caret" role="doc-biblioref">Kuhn 2021</a>)</span>.</p>
<p>The weighted score is a computed metric that assigns double weight to deaths compared to injuries, highlighting the gravity of incidents resulting in fatalities.</p>
</section>
<section id="model-setup" class="level2">
<h2 class="anchored" data-anchor-id="model-setup">Model Setup</h2>
<section id="response-and-predictor-variables" class="level3">
<h3 class="anchored" data-anchor-id="response-and-predictor-variables">Response and Predictor variables</h3>
<p>The response variable, weighted_score, combines the effects of deaths and injuries, assigning greater importance to the former. Predictors included:</p>
<ul>
<li><p><code>occ_date</code>: Numeric representation of the incident date.</p></li>
<li><p><code>occ_dow</code>: Factor variable indicating the day of the week.</p></li>
<li><p><code>occ_doy</code>: Numeric day of the year to capture seasonal effects.</p></li>
<li><p><code>occ_time_range</code>: Categorical variable divided into morning, afternoon, evening, and night.</p></li>
<li><p><code>neighbourhood_158</code>: Factor variable representing different neighborhoods.</p></li>
<li><p><code>division</code>: Factor variable representing police divisions.</p></li>
</ul>
</section>
<section id="model-configuration" class="level3">
<h3 class="anchored" data-anchor-id="model-configuration">Model Configuration</h3>
<p>The model was configured with the following parameters to control the complexity and fit of the model:</p>
<p>• Number of Trees: 500, providing sufficient model complexity and accuracy.</p>
<p>• Interaction Depth: 4, allowing interactions among up to four predictors.</p>
<p>• Shrinkage: 0.01, controlling the learning rate to avoid overfitting.</p>
<p>• Cross-validation Folds: 5, used to validate the model internally and optimize parameter selection.</p>
</section>
</section>
<section id="model-performance" class="level2">
<h2 class="anchored" data-anchor-id="model-performance">Model Performance</h2>
<section id="variable-importance" class="level3">
<h3 class="anchored" data-anchor-id="variable-importance">Variable Importance</h3>
<p>The summary function highlighted the relative importance of each predictor shown in <a href="#fig-importance" class="quarto-xref">Figure&nbsp;8</a>. Notably, the neighborhood variable (neighbourhood_158) dominated the model, indicating significant spatial variation in shooting severities across Toronto. The occ_dow and division showed moderate influence, suggesting that day of the week and police division also contribute to variations in incident severity, albeit to a lesser extent.</p>
<div class="cell" data-fig_caption="true">
<div class="cell-output cell-output-stdout">
<pre><code>                                var    rel.inf
neighbourhood_158 neighbourhood_158 94.7100842
occ_dow                     occ_dow  2.4428780
division                   division  1.6338084
occ_date                   occ_date  0.6334998
occ_doy                     occ_doy  0.4675681
occ_time_range       occ_time_range  0.1121617</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-importance" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-importance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="paper_files/figure-html/fig-importance-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-importance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Bar chart shows the importance of the predictor variables
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="model-performance-1" class="level3">
<h3 class="anchored" data-anchor-id="model-performance-1">Model Performance</h3>
<p>The model’s accuracy was assessed using the Root Mean Square Error (RMSE), calculated at 2.173830. This metric quantifies the average magnitude of the model’s prediction errors, providing a measure of predictive accuracy.</p>
</section>
<section id="result-interpretation" class="level3">
<h3 class="anchored" data-anchor-id="result-interpretation">Result Interpretation</h3>
<p>The results underline the critical influence of geographic location (neighbourhood_158) on the severity of shooting incidents, implying that certain areas are systematically associated with higher severity scores. Temporal factors like the day of the week (occ_dow) and specific police divisions also play roles but are less pronounced compared to spatial factors.</p>
</section>
</section>
</section>
<section id="discussion" class="level1">
<h1>Discussion</h1>
<section id="implications" class="level2">
<h2 class="anchored" data-anchor-id="implications">Implications</h2>
<p>Findings from this model underscore the need for targeted interventions in specific neighbourhoods and at times where shootings are most severe.</p>
</section>
<section id="limitations-and-future-research" class="level2">
<h2 class="anchored" data-anchor-id="limitations-and-future-research">Limitations and Future Research</h2>
<p>While the model provides valuable insights, it also has limitations due to potential unobserved confounders. Future research should consider additional data sources and alternative modeling approaches.</p>
</section>
<section id="policy-recommendations" class="level2">
<h2 class="anchored" data-anchor-id="policy-recommendations">Policy Recommendations</h2>
<p>Based on the model’s findings, it is recommended that public safety measures and police resources be strategically focused on specific neighborhoods and times identified as high-risk, enhancing targeted interventions and preventive strategies. These efforts should prioritize the areas and periods with the highest weighted scores, potentially reducing the frequency and severity of shootings by aligning law enforcement presence with predicted incident peaks.</p>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>This study offers a detailed examination of the spatial and temporal factors influencing the severity of shootings and firearm discharges in Toronto, employing a robust Gradient Boosting Machine model.</p>
<p>The findings highlight the critical role of specific neighborhoods and time periods in the incidence of these violent events, underscoring the potential for targeted interventions. By focusing law enforcement efforts and community resources on high-risk areas and times identified through the analysis, it is possible to significantly mitigate the impact of such incidents on public safety.</p>
<p>The actionable insights provided by this study not only serve as a guide for strategic policy formulation and resource allocation but also support the ongoing efforts to enhance the efficacy of public safety measures in urban environments. This approach ensures that policy responses are data-driven and tailored to the unique dynamics of the city, ultimately contributing to a safer community for all residents.</p>
</section>
<section id="references" class="level1 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-tellingstories" class="csl-entry" role="listitem">
Alexander, Rohan. 2023. <em>Telling Stories with Data</em>. Chapman &amp; Hall/CRC. <a href="https://tellingstorieswithdata.com/">https://tellingstorieswithdata.com/</a>.
</div>
<div id="ref-caret" class="csl-entry" role="listitem">
Kuhn, Max. 2021. <em><span class="nocase">caret: Classification and Regression Training</span></em>. <a href="https://CRAN.R-project.org/package=caret">https://CRAN.R-project.org/package=caret</a>.
</div>
<div id="ref-gbm" class="csl-entry" role="listitem">
others, Greg Ridgeway with contributions from. 2020. <em><span class="nocase">gbm: Generalized Boosted Regression Models</span></em>. <a href="https://CRAN.R-project.org/package=gbm">https://CRAN.R-project.org/package=gbm</a>.
</div>
<div id="ref-citeR" class="csl-entry" role="listitem">
R Core Team. 2023. <em><span class="nocase">R: A Language and Environment for Statistical Computing</span></em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-OpenDataToronto" class="csl-entry" role="listitem">
Toronto, City of. 2024. <span>“Open Data Toronto: Shootings and Firearm Discharges.”</span> <a href="https://open.toronto.ca/dataset/shootings-firearm-discharges/">https://open.toronto.ca/dataset/shootings-firearm-discharges/</a>.
</div>
<div id="ref-tidyverse" class="csl-entry" role="listitem">
Wickham, Hadley et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>